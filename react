import React, { useState } from 'react';

function App() {
  const [categories, setCategories] = useState([]);
  const [newCategory, setNewCategory] = useState('');
  const [selectedParent, setSelectedParent] = useState(null);
  const [selectedCategoryId, setSelectedCategoryId] = useState(null);

  const addCategory = () => {
    const newId = categories.length ? Math.max(...categories.map(c => c.id)) + 1 : 1;
    const newCat = { id: newId, name: newCategory, parentId: selectedParent };
    setCategories([...categories, newCat]);
    setNewCategory('');
  };

  const selectCategory = (categoryId) => {
    setSelectedCategoryId(categoryId);
    setSelectedParent(categoryId);
  }

  return (
    <div>
      <div>
        <input 
          value={newCategory} 
          onChange={(e) => setNewCategory(e.target.value)} 
        />
        <button onClick={addCategory}>Adicionar</button>
      </div>
      <ul>
        {categories.filter(cat => cat.parentId === selectedCategoryId).map(cat => (
          <li key={cat.id} onClick={() => selectCategory(cat.id)}>
            {cat.name}
          </li>
        ))}
      </ul>
    </div>
  );
}

export default App;
